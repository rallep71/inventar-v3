<!-- Login Form Partial fÃ¼r HTMX -->
<form hx-post="{{ url_for('auth.login') }}" 
      hx-target="#auth-container" 
      hx-swap="innerHTML"
      hx-indicator="#auth-loading"
      class="needs-validation"
      novalidate>
    
    {{ form.hidden_tag() }}
    
    <!-- Username Field -->
    <div class="mb-3">
        <label for="{{ form.username.id }}" class="form-label">
            <i class="bi bi-person me-1"></i>Benutzername
        </label>
        <div class="input-group">
            {{ form.username(class="form-control" + (" is-invalid" if form.username.errors else "")) }}
            <span class="input-group-text">
                <i class="bi bi-person"></i>
            </span>
            {% if form.username.errors %}
                <div class="invalid-feedback">
                    {{ form.username.errors[0] }}
                </div>
            {% endif %}
        </div>
    </div>
    
    <!-- Password Field -->
    <div class="mb-3">
        <label for="{{ form.password.id }}" class="form-label">
            <i class="bi bi-key me-1"></i>Passwort
        </label>
        <div class="input-group">
            {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else "")) }}
            <button class="btn btn-outline-secondary password-toggle" type="button" tabindex="-1">
                <i class="bi bi-eye"></i>
            </button>
            {% if form.password.errors %}
                <div class="invalid-feedback">
                    {{ form.password.errors[0] }}
                </div>
            {% endif %}
        </div>
    </div>
    
    <!-- Remember Me -->
    <div class="mb-4">
        <div class="form-check">
            {{ form.remember(class="form-check-input") }}
            <label class="form-check-label" for="{{ form.remember.id }}">
                Angemeldet bleiben
            </label>
        </div>
    </div>
    
    <!-- Submit Button -->
    <div class="d-grid">
        <button type="submit" class="btn btn-primary btn-lg">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Anmelden
        </button>
    </div>
</form>
